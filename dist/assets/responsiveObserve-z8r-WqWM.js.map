{"version":3,"file":"responsiveObserve-z8r-WqWM.js","sources":["../../node_modules/.pnpm/ant-design-vue@4.2.6_vue@3.5.13_typescript@5.7.2_/node_modules/ant-design-vue/es/_util/responsiveObserve.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { computed } from 'vue';\nimport { useToken } from '../theme/internal';\nexport const responsiveArray = ['xxxl', 'xxl', 'xl', 'lg', 'md', 'sm', 'xs'];\nconst getResponsiveMap = token => ({\n  xs: `(max-width: ${token.screenXSMax}px)`,\n  sm: `(min-width: ${token.screenSM}px)`,\n  md: `(min-width: ${token.screenMD}px)`,\n  lg: `(min-width: ${token.screenLG}px)`,\n  xl: `(min-width: ${token.screenXL}px)`,\n  xxl: `(min-width: ${token.screenXXL}px)`,\n  xxxl: `{min-width: ${token.screenXXXL}px}`\n});\nexport default function useResponsiveObserver() {\n  const [, token] = useToken();\n  return computed(() => {\n    const responsiveMap = getResponsiveMap(token.value);\n    const subscribers = new Map();\n    let subUid = -1;\n    let screens = {};\n    return {\n      matchHandlers: {},\n      dispatch(pointMap) {\n        screens = pointMap;\n        subscribers.forEach(func => func(screens));\n        return subscribers.size >= 1;\n      },\n      subscribe(func) {\n        if (!subscribers.size) this.register();\n        subUid += 1;\n        subscribers.set(subUid, func);\n        func(screens);\n        return subUid;\n      },\n      unsubscribe(paramToken) {\n        subscribers.delete(paramToken);\n        if (!subscribers.size) this.unregister();\n      },\n      unregister() {\n        Object.keys(responsiveMap).forEach(screen => {\n          const matchMediaQuery = responsiveMap[screen];\n          const handler = this.matchHandlers[matchMediaQuery];\n          handler === null || handler === void 0 ? void 0 : handler.mql.removeListener(handler === null || handler === void 0 ? void 0 : handler.listener);\n        });\n        subscribers.clear();\n      },\n      register() {\n        Object.keys(responsiveMap).forEach(screen => {\n          const matchMediaQuery = responsiveMap[screen];\n          const listener = _ref => {\n            let {\n              matches\n            } = _ref;\n            this.dispatch(_extends(_extends({}, screens), {\n              [screen]: matches\n            }));\n          };\n          const mql = window.matchMedia(matchMediaQuery);\n          mql.addListener(listener);\n          this.matchHandlers[matchMediaQuery] = {\n            mql,\n            listener\n          };\n          listener(mql);\n        });\n      },\n      responsiveMap\n    };\n  });\n}"],"names":["responsiveArray","getResponsiveMap","token","useResponsiveObserver","useToken","computed","responsiveMap","subscribers","subUid","screens","pointMap","func","paramToken","screen","matchMediaQuery","handler","listener","_ref","matches","_extends","mql"],"mappings":"uDAGY,MAACA,EAAkB,CAAC,OAAQ,MAAO,KAAM,KAAM,KAAM,KAAM,IAAI,EACrEC,EAAmBC,IAAU,CACjC,GAAI,eAAeA,EAAM,WAAW,MACpC,GAAI,eAAeA,EAAM,QAAQ,MACjC,GAAI,eAAeA,EAAM,QAAQ,MACjC,GAAI,eAAeA,EAAM,QAAQ,MACjC,GAAI,eAAeA,EAAM,QAAQ,MACjC,IAAK,eAAeA,EAAM,SAAS,MACnC,KAAM,eAAeA,EAAM,UAAU,KACvC,GACe,SAASC,GAAwB,CAC9C,KAAM,CAAG,CAAAD,CAAK,EAAIE,EAAU,EAC5B,OAAOC,EAAS,IAAM,CACpB,MAAMC,EAAgBL,EAAiBC,EAAM,KAAK,EAC5CK,EAAc,IAAI,IACxB,IAAIC,EAAS,GACTC,EAAU,CAAE,EAChB,MAAO,CACL,cAAe,CAAE,EACjB,SAASC,EAAU,CACjB,OAAAD,EAAUC,EACVH,EAAY,QAAQI,GAAQA,EAAKF,CAAO,CAAC,EAClCF,EAAY,MAAQ,CAC5B,EACD,UAAUI,EAAM,CACd,OAAKJ,EAAY,MAAM,KAAK,SAAU,EACtCC,GAAU,EACVD,EAAY,IAAIC,EAAQG,CAAI,EAC5BA,EAAKF,CAAO,EACLD,CACR,EACD,YAAYI,EAAY,CACtBL,EAAY,OAAOK,CAAU,EACxBL,EAAY,MAAM,KAAK,WAAY,CACzC,EACD,YAAa,CACX,OAAO,KAAKD,CAAa,EAAE,QAAQO,GAAU,CAC3C,MAAMC,EAAkBR,EAAcO,CAAM,EACtCE,EAAU,KAAK,cAAcD,CAAe,EAClDC,GAAY,MAAsCA,EAAQ,IAAI,eAAeA,GAAY,KAA6B,OAASA,EAAQ,QAAQ,CACzJ,CAAS,EACDR,EAAY,MAAO,CACpB,EACD,UAAW,CACT,OAAO,KAAKD,CAAa,EAAE,QAAQO,GAAU,CAC3C,MAAMC,EAAkBR,EAAcO,CAAM,EACtCG,EAAWC,GAAQ,CACvB,GAAI,CACF,QAAAC,CACd,EAAgBD,EACJ,KAAK,SAASE,EAASA,EAAS,CAAE,EAAEV,CAAO,EAAG,CAC5C,CAACI,CAAM,EAAGK,CACxB,CAAa,CAAC,CACH,EACKE,EAAM,OAAO,WAAWN,CAAe,EAC7CM,EAAI,YAAYJ,CAAQ,EACxB,KAAK,cAAcF,CAAe,EAAI,CACpC,IAAAM,EACA,SAAAJ,CACD,EACDA,EAASI,CAAG,CACtB,CAAS,CACF,EACD,cAAAd,CACD,CACL,CAAG,CACH","x_google_ignoreList":[0]}