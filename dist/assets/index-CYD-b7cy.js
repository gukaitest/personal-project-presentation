import{m as Ne,a as Oe,e as we,f as Ae,R as Ee,_ as Me,b as Ce,u as De,c as Ue,d as $e,g as Le,h as Ve,i as Be,P as Se,j as qe,k as Fe,l as Ke}from"./business-D4sN_9ms.js";import{ax as ze,av as he,o as g,b as O,e as q,ay as y,d as xe,az as fe,aA as je,a as V,$ as n,r as F,f as e,_ as me,ae as ye,c as I,w as a,g as N,t as x,h as t,J as B,K as S,Q as C,aB as We,ar as Ge,I as He,aC as Ye,aD as Qe,B as Q,aE as Xe,aF as Je,aG as be,aH as Ze}from"./index-CAvhOcyu.js";import{u as ea,a as aa,_ as la,F as na}from"./form-pD8JAqzH.js";import{S as ta,C as oa}from"./index-B_GEvyYv.js";import{_ as ua,a as sa}from"./index-D9yWjVwG.js";import{T as de}from"./index-D9Z3yK7p.js";import"./Col-DKj0WJZm.js";import"./responsiveObserve-z8r-WqWM.js";const Te={Y:"common.yesOrNo.yes",N:"common.yesOrNo.no"};ze(Te);const ra={class:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em"};function ia(s,c){return g(),O("svg",ra,c[0]||(c[0]=[q("path",{fill:"currentColor",d:"M18 13H6c-.55 0-1-.45-1-1s.45-1 1-1h12c.55 0 1 .45 1 1s-.45 1-1 1"},null,-1)]))}const da=he({name:"ic-round-remove",render:ia}),ma={class:"inline-block",viewBox:"0 0 32 32",width:"1em",height:"1em"};function ca(s,c){return g(),O("svg",ma,c[0]||(c[0]=[q("path",{fill:"currentColor",d:"M17 15V8h-2v7H8v2h7v7h2v-7h7v-2z"},null,-1)]))}const pa=he({name:"carbon-add",render:ca});function va(){return Object.keys(Object.assign({"/src/assets/svg-icon/activity.svg":()=>y(()=>import("./activity-B4XY664I.js"),[]),"/src/assets/svg-icon/at-sign.svg":()=>y(()=>import("./at-sign-DvqQw7Qx.js"),[]),"/src/assets/svg-icon/avatar.svg":()=>y(()=>import("./avatar-CR4D3Wln.js"),[]),"/src/assets/svg-icon/banner.svg":()=>y(()=>import("./banner-c0_1_hKZ.js"),[]),"/src/assets/svg-icon/cast.svg":()=>y(()=>import("./cast-n3EmpXB4.js"),[]),"/src/assets/svg-icon/chrome.svg":()=>y(()=>import("./chrome-BM_Le6p_.js"),[]),"/src/assets/svg-icon/copy.svg":()=>y(()=>import("./copy-BsYpLlfM.js"),[]),"/src/assets/svg-icon/custom-icon.svg":()=>y(()=>import("./custom-icon-857Ak5pp.js"),[]),"/src/assets/svg-icon/empty-data.svg":()=>y(()=>import("./empty-data-CzgJ8JYF.js"),[]),"/src/assets/svg-icon/expectation.svg":()=>y(()=>import("./expectation-BuEJD7SN.js"),[]),"/src/assets/svg-icon/heart.svg":()=>y(()=>import("./heart-DOH2U7VV.js"),[]),"/src/assets/svg-icon/logo.svg":()=>y(()=>import("./logo-BeLY4cv9.js"),[]),"/src/assets/svg-icon/network-error.svg":()=>y(()=>import("./network-error-BW-nao7Y.js"),[]),"/src/assets/svg-icon/no-icon.svg":()=>y(()=>import("./no-icon-DXySFfyH.js"),[]),"/src/assets/svg-icon/no-permission.svg":()=>y(()=>import("./no-permission-CtR3LTfG.js"),[]),"/src/assets/svg-icon/not-found.svg":()=>y(()=>import("./not-found-wOawdi8Z.js"),[]),"/src/assets/svg-icon/service-error.svg":()=>y(()=>import("./service-error-D3TuQMX7.js"),[]),"/src/assets/svg-icon/wind.svg":()=>y(()=>import("./wind-Dy5zdHKW.js"),[])})).map(v=>{var T;return((T=v.split("/").at(-1))==null?void 0:T.replace(".svg",""))||""}).filter(Boolean)}const X="layout.",J="view.",Ie="$";function ga(s){let c="",v="";const[T="",w=""]=(s==null?void 0:s.split(Ie))||[];return c=_a(T),v=fa(w||T),{layout:c,page:v}}function _a(s){return s.startsWith(X)?s.replace(X,""):""}function fa(s){return s.startsWith(J)?s.replace(J,""):""}function ya(s,c){const v=!!s,T=!!c;return v&&T?`${X}${s}${Ie}${J}${c}`:v?`${X}${s}`:T?`${J}${c}`:""}function ba(s){return`/${s.replace(/_/g,"/")}`}function ha(s){const[c,v=""]=s.split("/:");return{path:c,param:v}}function xa(s,c){return c.trim()?`${s}/:${c}`:s}const Ta={class:"h-480px"},Ia={class:"ml-8px"},ka={class:"ml-8px"},Pa=xe({name:"MenuOperateModal",__name:"menu-operate-modal",props:fe({operateType:{},rowData:{},allPages:{}},{visible:{type:Boolean,default:!1},visibleModifiers:{}}),emits:fe(["submitted"],["update:visible"]),setup(s,{emit:c}){const v=s,T=c,w=je(s,"visible"),{formRef:Z,validate:U,resetFields:K}=ea(),{defaultRequiredRule:E}=aa(),ee=V(()=>({add:n("page.manage.menu.addMenu"),addChild:n("page.manage.menu.addChildMenu"),edit:n("page.manage.menu.editMenu")})[v.operateType]),l=F(z());function z(){return{menuType:"1",menuName:"",routeName:"",routePath:"",pathParam:"",component:"",layout:"",page:"",i18nKey:null,icon:"",iconType:"1",parentId:0,status:"1",keepAlive:!1,constant:!1,order:0,href:null,hideInMenu:!1,activeMenu:null,multiTab:!1,fixedIndexInTab:null,query:[],buttons:[]}}const ae={menuName:E,status:E,routeName:E,routePath:E},le=V(()=>v.operateType==="edit"),ne=va().map(m=>({label:()=>e("div",{class:"flex-y-center gap-16px"},[e(me,{localIcon:m,class:"text-icon"},null),e("span",null,[m])]),value:m})),M=V(()=>l.value.parentId===0),te=V(()=>l.value.menuType==="2"),j=V(()=>{const m=[...v.allPages];return l.value.routeName&&!m.includes(l.value.routeName)&&m.unshift(l.value.routeName),m.map(f=>({label:f,value:f}))}),oe=[{label:"base",value:"base"},{label:"blank",value:"blank"}],$=F([]);async function ue(){const{error:m,data:u}=await Ae();if(!m){const f=u.map(b=>({label:b.roleName,value:b.roleCode}));$.value=[...f]}}function W(m){l.value.query.splice(m+1,0,{key:"",value:""})}function G(m){l.value.query.splice(m,1)}function H(m){l.value.buttons.splice(m+1,0,{code:"",desc:""})}function se(m){l.value.buttons.splice(m,1)}async function r(){if(l.value=z(),!!v.rowData){if(await Ge(),v.operateType==="addChild"){const{id:m}=v.rowData;Object.assign(l.value,{parentId:m})}if(v.operateType==="edit"){const{component:m,...u}=v.rowData,{layout:f,page:b}=ga(m),{path:d,param:i}=ha(u.routePath);Object.assign(l.value,u,{layout:f,page:b,routePath:d,pathParam:i})}l.value.query||(l.value.query=[]),l.value.buttons||(l.value.buttons=[])}}function p(){w.value=!1}function _(){l.value.routeName?l.value.routePath=ba(l.value.routeName):l.value.routePath=""}function h(){l.value.routeName?l.value.i18nKey=`route.${l.value.routeName}`:l.value.i18nKey=null}function re(){const{layout:m,page:u,pathParam:f,...b}=l.value,d=ya(m,u),i=xa(l.value.routePath,f);return b.component=d,b.routePath=i,b}async function L(){var u;await U();const m=re();console.log("params: ",m),(u=window.$message)==null||u.success(n("common.updateSuccess")),p(),T("submitted")}return ye(w,()=>{w.value&&(r(),K(),ue())}),ye(()=>l.value.routeName,()=>{_(),h()}),(m,u)=>{const f=Ee,b=Me,d=la,i=ua,k=He,Y=Ye,pe=Qe,ve=pa,A=Q,ge=Ce,_e=da,ie=ta,ke=sa,Pe=na,Re=Xe;return g(),I(Re,{open:w.value,"onUpdate:open":u[22]||(u[22]=o=>w.value=o),title:ee.value,width:"800px"},{footer:a(()=>[e(ie,{justify:"end",size:16},{default:a(()=>[e(A,{onClick:p},{default:a(()=>[N(x(t(n)("common.cancel")),1)]),_:1}),e(A,{type:"primary",onClick:L},{default:a(()=>[N(x(t(n)("common.confirm")),1)]),_:1})]),_:1})]),default:a(()=>[q("div",Ta,[e(t(We),null,{default:a(()=>[e(Pe,{ref_key:"formRef",ref:Z,model:l.value,rules:ae,"label-col":{lg:8,xs:4},"label-wrap":"",class:"pr-20px"},{default:a(()=>[e(ke,null,{default:a(()=>[e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:t(n)("page.manage.menu.menuType"),name:"menuType"},{default:a(()=>[e(b,{value:l.value.menuType,"onUpdate:value":u[0]||(u[0]=o=>l.value.menuType=o),disabled:le.value},{default:a(()=>[(g(!0),O(S,null,B(t(Ne),o=>(g(),I(f,{key:o.value,value:o.value},{default:a(()=>[N(x(t(n)(o.label)),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","disabled"])]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:t(n)("page.manage.menu.menuName"),name:"menuName"},{default:a(()=>[e(k,{value:l.value.menuName,"onUpdate:value":u[1]||(u[1]=o=>l.value.menuName=o),placeholder:t(n)("page.manage.menu.form.menuName")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:t(n)("page.manage.menu.routeName"),name:"routeName"},{default:a(()=>[e(k,{value:l.value.routeName,"onUpdate:value":u[2]||(u[2]=o=>l.value.routeName=o),placeholder:t(n)("page.manage.menu.form.routeName")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:t(n)("page.manage.menu.routePath"),name:"routePath"},{default:a(()=>[e(k,{value:l.value.routePath,"onUpdate:value":u[3]||(u[3]=o=>l.value.routePath=o),disabled:"",placeholder:t(n)("page.manage.menu.form.routePath")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:t(n)("page.manage.menu.pathParam"),name:"pathParam"},{default:a(()=>[e(k,{value:l.value.pathParam,"onUpdate:value":u[4]||(u[4]=o=>l.value.pathParam=o),placeholder:t(n)("page.manage.menu.form.pathParam")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[M.value?(g(),I(d,{key:0,label:t(n)("page.manage.menu.layout"),name:"layout"},{default:a(()=>[e(Y,{value:l.value.layout,"onUpdate:value":u[5]||(u[5]=o=>l.value.layout=o),options:oe,placeholder:t(n)("page.manage.menu.form.layout")},null,8,["value","placeholder"])]),_:1},8,["label"])):C("",!0)]),_:1}),te.value?(g(),I(i,{key:0,lg:12,xs:24},{default:a(()=>[e(d,{label:t(n)("page.manage.menu.page"),name:"page"},{default:a(()=>[e(Y,{value:l.value.page,"onUpdate:value":u[6]||(u[6]=o=>l.value.page=o),options:j.value,placeholder:t(n)("page.manage.menu.form.page")},null,8,["value","options","placeholder"])]),_:1},8,["label"])]),_:1})):C("",!0),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:t(n)("page.manage.menu.i18nKey"),name:"i18nKey"},{default:a(()=>[e(k,{value:l.value.i18nKey,"onUpdate:value":u[7]||(u[7]=o=>l.value.i18nKey=o),placeholder:t(n)("page.manage.menu.form.i18nKey")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:t(n)("page.manage.menu.order"),name:"order"},{default:a(()=>[e(pe,{value:l.value.order,"onUpdate:value":u[8]||(u[8]=o=>l.value.order=o),class:"w-full",placeholder:t(n)("page.manage.menu.form.order")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:t(n)("page.manage.menu.iconTypeTitle"),name:"iconType"},{default:a(()=>[e(b,{value:l.value.iconType,"onUpdate:value":u[9]||(u[9]=o=>l.value.iconType=o)},{default:a(()=>[(g(!0),O(S,null,B(t(Oe),o=>(g(),I(f,{key:o.value,value:o.value},{default:a(()=>[N(x(t(n)(o.label)),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:t(n)("page.manage.menu.icon"),name:"icon"},{default:a(()=>[l.value.iconType==="1"?(g(),I(k,{key:0,value:l.value.icon,"onUpdate:value":u[10]||(u[10]=o=>l.value.icon=o),placeholder:t(n)("page.manage.menu.form.icon"),class:"flex-1"},{suffix:a(()=>[l.value.icon?(g(),I(me,{key:0,icon:l.value.icon,class:"text-icon"},null,8,["icon"])):C("",!0)]),_:1},8,["value","placeholder"])):C("",!0),l.value.iconType==="2"?(g(),I(Y,{key:1,value:l.value.icon,"onUpdate:value":u[11]||(u[11]=o=>l.value.icon=o),placeholder:t(n)("page.manage.menu.form.localIcon"),options:t(ne)},null,8,["value","placeholder","options"])):C("",!0)]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:t(n)("page.manage.menu.menuStatus"),name:"status"},{default:a(()=>[e(b,{value:l.value.status,"onUpdate:value":u[12]||(u[12]=o=>l.value.status=o)},{default:a(()=>[(g(!0),O(S,null,B(t(we),o=>(g(),I(f,{key:o.value,value:o.value},{default:a(()=>[N(x(t(n)(o.label)),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:t(n)("page.manage.menu.keepAlive"),name:"keepAlive"},{default:a(()=>[e(b,{value:l.value.keepAlive,"onUpdate:value":u[13]||(u[13]=o=>l.value.keepAlive=o)},{default:a(()=>[e(f,{value:!0},{default:a(()=>[N(x(t(n)("common.yesOrNo.yes")),1)]),_:1}),e(f,{value:!1},{default:a(()=>[N(x(t(n)("common.yesOrNo.no")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:t(n)("page.manage.menu.constant"),name:"constant"},{default:a(()=>[e(b,{value:l.value.constant,"onUpdate:value":u[14]||(u[14]=o=>l.value.constant=o)},{default:a(()=>[e(f,{value:""},{default:a(()=>[N(x(t(n)("common.yesOrNo.yes")),1)]),_:1}),e(f,{value:!1},{default:a(()=>[N(x(t(n)("common.yesOrNo.no")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:t(n)("page.manage.menu.href"),name:"href"},{default:a(()=>[e(k,{value:l.value.href,"onUpdate:value":u[15]||(u[15]=o=>l.value.href=o),placeholder:t(n)("page.manage.menu.form.href")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:t(n)("page.manage.menu.hideInMenu"),name:"hideInMenu"},{default:a(()=>[e(b,{value:l.value.hideInMenu,"onUpdate:value":u[16]||(u[16]=o=>l.value.hideInMenu=o)},{default:a(()=>[e(f,{value:!0},{default:a(()=>[N(x(t(n)("common.yesOrNo.yes")),1)]),_:1}),e(f,{value:!1},{default:a(()=>[N(x(t(n)("common.yesOrNo.no")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label"])]),_:1}),l.value.hideInMenu?(g(),I(i,{key:1,lg:12,xs:24},{default:a(()=>[e(d,{label:t(n)("page.manage.menu.activeMenu"),name:"activeMenu"},{default:a(()=>[e(Y,{value:l.value.activeMenu,"onUpdate:value":u[17]||(u[17]=o=>l.value.activeMenu=o),options:j.value,clearable:"",placeholder:t(n)("page.manage.menu.form.activeMenu")},null,8,["value","options","placeholder"])]),_:1},8,["label"])]),_:1})):C("",!0),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:t(n)("page.manage.menu.multiTab"),name:"multiTab"},{default:a(()=>[e(b,{value:l.value.multiTab,"onUpdate:value":u[18]||(u[18]=o=>l.value.multiTab=o)},{default:a(()=>[e(f,{value:"",label:t(n)("common.yesOrNo.yes")},null,8,["label"]),e(f,{value:!1,label:t(n)("common.yesOrNo.no")},null,8,["label"])]),_:1},8,["value"])]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:t(n)("page.manage.menu.fixedIndexInTab"),name:"fixedIndexInTab"},{default:a(()=>[e(pe,{value:l.value.fixedIndexInTab,"onUpdate:value":u[19]||(u[19]=o=>l.value.fixedIndexInTab=o),class:"w-full",clearable:"",placeholder:t(n)("page.manage.menu.form.fixedIndexInTab")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1}),e(i,{span:24},{default:a(()=>[e(d,{"label-col":{span:4},label:t(n)("page.manage.menu.query"),name:"query"},{default:a(()=>[l.value.query.length===0?(g(),I(A,{key:0,type:"dashed",block:"",onClick:u[20]||(u[20]=o=>W(-1))},{icon:a(()=>[e(ve,{class:"align-sub text-icon"})]),default:a(()=>[q("span",Ia,x(t(n)("common.add")),1)]),_:1})):(g(!0),O(S,{key:1},B(l.value.query,(o,P)=>(g(),O("div",{key:P,class:"flex gap-3"},[e(i,{span:9},{default:a(()=>[e(d,{name:["query",P,"key"]},{default:a(()=>[e(k,{value:o.key,"onUpdate:value":R=>o.key=R,placeholder:t(n)("page.manage.menu.form.queryKey"),class:"flex-1"},null,8,["value","onUpdate:value","placeholder"])]),_:2},1032,["name"])]),_:2},1024),e(i,{span:9},{default:a(()=>[e(d,{name:["query",P,"value"]},{default:a(()=>[e(k,{value:o.value,"onUpdate:value":R=>o.value=R,placeholder:t(n)("page.manage.menu.form.queryValue"),class:"flex-1"},null,8,["value","onUpdate:value","placeholder"])]),_:2},1032,["name"])]),_:2},1024),e(i,{span:5},{default:a(()=>[e(ie,{class:"ml-12px"},{default:a(()=>[e(A,{size:"middle",onClick:R=>W(P)},{icon:a(()=>[e(ge,{class:"align-sub text-icon"})]),_:2},1032,["onClick"]),e(A,{size:"middle",onClick:R=>G(P)},{icon:a(()=>[e(_e,{class:"align-sub text-icon"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))]),_:1},8,["label"])]),_:1}),e(i,{span:24},{default:a(()=>[e(d,{"label-col":{span:4},label:t(n)("page.manage.menu.button"),name:"buttons"},{default:a(()=>[l.value.buttons.length===0?(g(),I(A,{key:0,type:"dashed",block:"",onClick:u[21]||(u[21]=o=>H(-1))},{icon:a(()=>[e(ve,{class:"align-sub text-icon"})]),default:a(()=>[q("span",ka,x(t(n)("common.add")),1)]),_:1})):(g(!0),O(S,{key:1},B(l.value.buttons,(o,P)=>(g(),O("div",{key:P,class:"flex gap-3"},[e(i,{span:9},{default:a(()=>[e(d,{name:["buttons",P,"code"]},{default:a(()=>[e(k,{value:o.code,"onUpdate:value":R=>o.code=R,placeholder:t(n)("page.manage.menu.form.buttonCode"),class:"flex-1"},null,8,["value","onUpdate:value","placeholder"])]),_:2},1032,["name"])]),_:2},1024),e(i,{span:9},{default:a(()=>[e(d,{name:["buttons",P,"desc"]},{default:a(()=>[e(k,{value:o.desc,"onUpdate:value":R=>o.desc=R,placeholder:t(n)("page.manage.menu.form.buttonDesc"),class:"flex-1"},null,8,["value","onUpdate:value","placeholder"])]),_:2},1032,["name"])]),_:2},1024),e(i,{span:5},{default:a(()=>[e(ie,{class:"ml-12px"},{default:a(()=>[e(A,{size:"middle",onClick:R=>H(P)},{icon:a(()=>[e(ge,{class:"align-sub text-icon"})]),_:2},1032,["onClick"]),e(A,{size:"middle",onClick:R=>se(P)},{icon:a(()=>[e(_e,{class:"align-sub text-icon"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])]),_:1},8,["open","title"])}}}),Ra={class:"min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"};function D(s){return typeof s=="function"||Object.prototype.toString.call(s)==="[object Object]"&&!Ze(s)}const Ua=xe({name:"manage_menu",__name:"index",setup(s){const{bool:c,setTrue:v}=Je(),{tableWrapperRef:T,scrollConfig:w}=De(),{columns:Z,columnChecks:U,data:K,loading:E,pagination:ee,getData:l,getDataByPage:z}=Ue({apiFn:Le,columns:()=>[{key:"id",title:n("page.manage.menu.id"),align:"center",dataIndex:"id"},{key:"menuType",title:n("page.manage.menu.menuType"),align:"center",width:80,customRender:({record:r})=>{const p={1:"default",2:"processing"},_=n(Ve[r.menuType]);return e(de,{color:p[r.menuType]},D(_)?_:{default:()=>[_]})}},{key:"menuName",title:n("page.manage.menu.menuName"),align:"center",minWidth:120,customRender:({record:r})=>{const{i18nKey:p,menuName:_}=r,h=p?n(p):_;return e("span",null,[h])}},{key:"icon",title:n("page.manage.menu.icon"),align:"center",width:60,customRender:({record:r})=>{const p=r.iconType==="1"?r.icon:void 0,_=r.iconType==="2"?r.icon:void 0;return e("div",{class:"flex-center"},[e(me,{icon:p,localIcon:_,class:"text-icon"},null)])}},{key:"routeName",title:n("page.manage.menu.routeName"),align:"center",dataIndex:"routeName",minWidth:120},{key:"routePath",title:n("page.manage.menu.routePath"),align:"center",dataIndex:"routePath",minWidth:120},{key:"status",title:n("page.manage.menu.menuStatus"),align:"center",width:80,customRender:({record:r})=>{if(r.status===null)return null;const p={1:"success",2:"warning"},_=n(Be[r.status]);return e(de,{color:p[r.status]},D(_)?_:{default:()=>[_]})}},{key:"hideInMenu",title:n("page.manage.menu.hideInMenu"),dataIndex:"hideInMenu",align:"center",width:80,customRender:({record:r})=>{const p=r.hideInMenu?"Y":"N",_={Y:"error",N:"default"},h=n(Te[p]);return e(de,{color:_[p]},D(h)?h:{default:()=>[h]})}},{key:"parentId",dataIndex:"parentId",title:n("page.manage.menu.parentId"),width:90,align:"center"},{key:"order",dataIndex:"order",title:n("page.manage.menu.order"),align:"center",width:60},{key:"operate",title:n("common.operate"),align:"center",width:230,customRender:({record:r})=>{let p,_,h;return e("div",{class:"flex-center justify-end gap-8px"},[r.menuType==="1"&&e(Q,{type:"primary",ghost:!0,size:"small",onClick:()=>W(r)},D(p=n("page.manage.menu.addChildMenu"))?p:{default:()=>[p]}),e(Q,{type:"primary",ghost:!0,size:"small",onClick:()=>ue(r)},D(_=n("common.edit"))?_:{default:()=>[_]}),e(Se,{title:n("common.confirmDelete"),onConfirm:()=>oe(r.id)},{default:()=>[e(Q,{danger:!0,ghost:!0,size:"small"},D(h=n("common.delete"))?h:{default:()=>[h]})]})])}}]}),{checkedRowKeys:ae,rowSelection:le,onBatchDeleted:ce,onDeleted:ne}=$e(K,l),M=F("add");function te(){M.value="add",v()}async function j(){ce()}function oe(r){console.log(r),ne()}const $=F(null);function ue(r){M.value="edit",$.value={...r},v()}function W(r){M.value="addChild",$.value={...r},v()}const G=F([]);async function H(){const{data:r}=await Ke();G.value=r||[]}function se(){H()}return se(),(r,p)=>{const _=qe,h=Fe,re=oa;return g(),O("div",Ra,[e(re,{title:t(n)("page.manage.menu.title"),bordered:!1,"body-style":{flex:1,overflow:"hidden"},class:"flex-col-stretch sm:flex-1-hidden card-wrapper"},{extra:a(()=>[e(_,{columns:t(U),"onUpdate:columns":p[0]||(p[0]=L=>be(U)?U.value=L:null),"disabled-delete":t(ae).length===0,loading:t(E),onAdd:te,onDelete:j,onRefresh:t(l)},null,8,["columns","disabled-delete","loading","onRefresh"])]),default:a(()=>[e(h,{ref_key:"tableWrapperRef",ref:T,columns:t(Z),"data-source":t(K),"row-selection":t(le),size:"small",loading:t(E),"row-key":"id",scroll:t(w),pagination:t(ee),class:"h-full"},null,8,["columns","data-source","row-selection","loading","scroll","pagination"]),e(Pa,{visible:t(c),"onUpdate:visible":p[1]||(p[1]=L=>be(c)?c.value=L:null),"operate-type":M.value,"row-data":$.value,"all-pages":G.value,onSubmitted:t(z)},null,8,["visible","operate-type","row-data","all-pages","onSubmitted"])]),_:1},8,["title"])])}}});export{Ua as default};
//# sourceMappingURL=index-CYD-b7cy.js.map
